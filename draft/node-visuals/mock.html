<!doctype html>
<html>
    <head>
        <title>MOCK UI</title>

        <!-- styles -->
        <style type="text/css">
        
        
        </style>

        <!-- scripts -->
        <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
        <script>
            var milestoneValues = {
                firealarmButtonPressed: false,
                temperature: 100,
                emergencyArrived: false,
                peopleEvacuated: false,
                peopleCounted: false,
                peopleComplete: false,
                peopleIncomplete: false,
                fireExtinguished: false
            };

            $(document).ready(function(){

                $('button[data-name]').on('click', function(){
                    var $button = $(this);
                    var name = $button.attr('data-name');
                    milestoneValues[name] = !milestoneValues[name];
                    $button.text(name + ': ' + (milestoneValues[name] ? 'true' : 'false'));
                    uploadMilestoneValues();
                });

                $('input[data-name]').on('change', function(){
                    var $input = $(this);
                    var name = $input.attr('data-name');
                    milestoneValues[name] = $input.val();
                    uploadMilestoneValues();
                });

                $('button').each(function(i, e){
                    var $button = $(e);
                    var name = $button.attr('data-name'); 
                    $button.text(name + ': ' + (milestoneValues[name] ? 'true' : 'false'));
                })

            });

            function uploadMilestoneValues(){
                console.log('PREPARING UPDATE');
                
                $.post('/mock', {data: JSON.stringify(milestoneValues)}).done(function(){
                    console.log('UPDATED: ', milestoneValues);
                });

            }
        </script>
    </head>
    <body>

        <button data-name="firealarmButtonPressed"></button><br/>
        <input type="text" data-name="temperature" /><br/>
        <button data-name="emergencyArrived"></button><br/>
        <button data-name="peopleEvacuated"></button><br/>
        <button data-name="peopleCounted"></button><br/>
        <button data-name="peopleComplete"></button><br/>
        <button data-name="peopleIncomplete"></button><br/>
        <button data-name="fireExtinguished"></button><br/>

    </body>
</html>