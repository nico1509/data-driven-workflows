@prefix : <#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.
@prefix owl: <http://www.w3.org/2002/07/owl#> .
@prefix xsd:   <http://www.w3.org/2001/XMLSchema#> .
@prefix http: <http://www.w3.org/2011/http#>.
@prefix sp: <http://spinrdf.org/sp#> .


# Classes

:Guard
    a rdfs:Class .
    
:Stage
    a rdfs:Class .
    
:Milestone
    a rdfs:Class .

:Task
    a rdf:Class .

:Action 
    a rdf:Class .

    
:Sentry
    a rdfs:Class ;
    owl:sameAs sp:Ask . 
    #???
    
:State
    a rdfs:Class .
    
# Properties

:hasGuardName
    a rdf:Property ;
    rdfs:domain :Guard ;
    rdfs:range xsd:string .
    
:hasPreCondition
    a rdf:Property ;
    rdfs:domain :Guard ;
    rdfs:range sp:Ask .
    
:hasPostCondition
    a rdf:Property ;
    rdfs:domain :Milestone ;
    rdfs:range sp:Ask .
    
:hasGuards
    a rdf:Property ;
    rdfs:domain :Stage ;
    rdfs:range :Guard .      # rdf List?
    
:hasMilestones
    a rdf:Property ;
    rdfs:domain :Stage ;
    rdfs:range :Milestone .
    
:hasStageName
    a rdf:Property ;
    rdfs:domain :Stage ;
    rdfs:range xsd:string .
    
#:hasSubstages
#    a rdf:Property ;
#    rdfs:domain :Stage ;
#    rdfs:range :Stage .

# ==> for atomic stages hasTask instead of hasTasks 
:hasTask
    a rdf:Property ;
    rdfs:domain :Stage ;
    rdfs:range :Task .

:hasState
    a rdf:Property ;
    rdfs:domain (:Stage :Action)        ### QUESTION: is that valid code ?
    rdfs:range :State ;

:hasMilestoneName
    a rdf:Property ;
    rdfs:domain :Milestone ;
    rdfs:range xsd:string .
    
:hasAction
    a rdf:Property ;
    rdfs:domain :Task ;
    rdfs:range :Action;

:hasHttpRequest
    a rdf:Property ;
    rdfs:domain :Action ;
    rdfs:range http:Request .

:hasNextAction
    a rdf:Property ;
    rdfs:domain :Action ;
    rdfs:range :Action .

# States

:inactive
    a :State ;
    owl:disjointWith :active .

:active
    a :State ;
    owl:disjointWith :inactive .
    
:done
    a :State .

:open
    a :State .